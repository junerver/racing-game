# 🏎️ Racing Game

一款基于 Next.js 和 TypeScript 开发的 H5 赛车游戏。挑战自己，在避开障碍物的同时尽可能行驶更远的距离！

## 🎮 游戏玩法

- **目标**：在高速行驶中避开障碍车辆，收集道具和金币，尽可能行驶更远的距离
- **操作**：使用 ← → 方向键控制车辆左右移动
- **生命值**：游戏开始时有 3 颗心，每次碰撞失去 1 颗心，失去所有心后游戏结束
- **速度**：车辆速度会随着行驶距离逐渐增加，难度也会相应提升

## 🎯 难度选择

游戏提供三种难度模式，不同难度会影响速度、道具出现几率和金币面额：

- 🟢 **简单模式**：速度降低 30%，道具出现几率提升 20%，金币面额 100/200/500
- 🟡 **中等模式**：标准速度，标准道具出现几率，金币面额 100/200
- 🔴 **困难模式**：速度提升 20%，道具出现几率降低 20%，金币面额仅 100

### 动态平衡机制

所有道具都采用动态难度调整：
- **简单模式**：基础道具和商店道具出现几率提升至 120%
- **中等模式**：维持标准出现几率（100%）
- **困难模式**：道具出现几率降低至 80%

## 💎 道具系统

### 基础道具（每 2 秒出现）

- ⚡ **速度提升**：速度提升至 1.5 倍（持续 8 秒）
- 🛡️ **无敌**：无视碰撞，不会受到伤害（持续 8 秒）
- 🧲 **磁铁**：自动吸引屏幕上所有道具（持续 8 秒）
- 2× **分数倍增器**：分数获取速度翻倍（持续 8 秒）
- $ **金币**：立即获得金币，面额有 100/200/500 三种

### 商店道具（每 30 秒出现）

- 🛡️ **商店无敌**：无视碰撞（持续 8 秒）
- 🔫 **机枪**：发射双弹幕摧毁前方车辆（持续 10 秒）
- 🚀 **火箭燃料**：速度提高两倍突破极速（持续 6 秒）
- ⚡ **氮气加速**：快速加速到极速（持续 3 秒）

### 爱心道具（生命恢复）

- ❤ **爱心**：恢复 1 点生命值（最多 3 点）
  - 仅在生命值 ≤ 1 时出现
  - 生命值恢复到 3 后停止生成
  - 出现几率根据难度调整（简单 80%，中等 65%，困难 50%）

## 🎰 金币老虎机

收集金币时会自动填充老虎机卡片，集满3张后可启动老虎机进行抽奖：

- **启动方式**：按 **S** 键或点击老虎机按钮
- **奖池金额**：3张卡片的金币总和
- **滚轮结果**：❌、谢谢、100、200、500

### 奖励规则

- **三个相同数字**：
  - 全100：1.5倍奖池（例如奖池400，奖励200）
  - 全200：2倍奖池（例如奖池400，奖励400）
  - 全500：3倍奖池（例如奖池400，奖励800）
- **三个谢谢**：奖励10金币
- **三个❌**：惩罚，从总金币中扣除奖池金额
- **其他组合**：无效果，不获得奖励

## 🔮 道具合成系统

当按顺序获得特定道具组合时，会触发道具合成，产生更强大的效果：

### 合成配方（必须按顺序获得）

1. **🌀🔫 旋转弹幕射击**
   - 配方：无敌护盾 → 机枪
   - 效果：旋转的无敌护盾发射机枪子弹，形成圆弧形弹幕
   - 持续时间：10秒

2. **🔫🔫 四弹道机枪**
   - 配方：2x分数 → 机枪
   - 效果：射击弹幕从2弹道扩展为4弹道
   - 持续时间：10秒

3. **⚡🌩️ 风暴闪电**
   - 配方：机枪 → 氮气加速
   - 效果：每2秒实现一次全屏攻击，清除所有道路上的障碍车辆
   - 持续时间：10秒

4. **❤❤ 双倍爱心**
   - 配方：2x分数 → 爱心
   - 效果：获得两个爱心，补充两点耐久
   - 即时效果

5. **💰💰 双倍金币**
   - 配方：2x分数 → 金币
   - 效果：金币面额两倍
   - 即时效果

### 合成机制

- 必须按照配方顺序获得道具（先A后B）
- 合成触发后，原始道具效果立即结束
- 显示新的合成道具图标和倒计时
- 合成道具以紫色渐变边框显示

## 💰 机枪金币奖励

使用机枪或合成机枪道具摧毁障碍车辆时，每摧毁一辆奖励 **10金币**：

- 普通机枪摧毁：+10金币/辆
- 四弹道机枪摧毁：+10金币/辆
- 旋转弹幕射击摧毁：+10金币/辆
- 风暴闪电清除：+10金币/辆

## 🎮 控制方式

- **← →** - 左右移动车辆
- **ESC** - 暂停/继续游戏
- **SPACE / ENTER** - 开始/重新开始游戏
- **S** - 启动金币老虎机（集满3张卡片后）
- **1/2/3/4** - 购买商店道具（需要金币）

## 🚀 开发和运行

### 技术栈

- **框架**：Next.js 16.0.7 (App Router)
- **React**：19.2.0
- **TypeScript**：5.x
- **样式**：Tailwind CSS 4
- **包管理器**：npm

### 开发命令

```bash
# 启动开发服务器 (http://localhost:3389)
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start

# 运行代码检查
npm run lint
```

## 📝 游戏特性

- ✅ 渐进式难度系统
- ✅ 多种道具和特殊效果
- ✅ 金币系统和商店
- ✅ 金币老虎机抽奖系统
- ✅ 道具合成系统（5种合成配方）
- ✅ 机枪金币奖励机制
- ✅ 排行榜记录
- ✅ 车辆自定义系统
- ✅ 流畅的 60fps 游戏体验
- ✅ 响应式设计

## 🎨 游戏画面

游戏采用 Canvas 渲染，提供流畅的动画效果和视觉反馈：
- 动态道路线条
- 道具光晕效果
- 碰撞恢复闪烁
- 无敌护盾特效
- 子弹光晕效果

## 📄 许可证

本项目仅供学习和娱乐使用。
